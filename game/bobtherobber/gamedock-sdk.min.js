(function() {
    function n(u, r, v) {
        function t(p, l) {
            if (!r[p]) {
                if (!u[p]) {
                    var h = "function" == typeof require && require;
                    if (!l && h)
                        return h(p, !0);
                    if (w)
                        return w(p, !0);
                    h = Error("Cannot find module '" + p + "'");
                    throw h.code = "MODULE_NOT_FOUND",
                    h;
                }
                h = r[p] = {
                    exports: {}
                };
                u[p][0].call(h.exports, function(h) {
                    return t(u[p][1][h] || h)
                }, h, h.exports, n, u, r, v)
            }
            return r[p].exports
        }
        for (var w = "function" == typeof require && require, q = 0; q < v.length; q++)
            t(v[q]);
        return t
    }
    return n
}
)()({
    1: [function(n, u, r) {
        n = n("./gamedock-sdk");
        window.GamedockSDK = n.GamedockSDK
    }
    , {
        "./gamedock-sdk": 2
    }],
    2: [function(n, u, r) {
        function v(a, c) {
            var b = Object.keys(a);
            if (Object.getOwnPropertySymbols) {
                var d = Object.getOwnPropertySymbols(a);
                c && (d = d.filter(function(b) {
                    return Object.getOwnPropertyDescriptor(a, b).enumerable
                }));
                b.push.apply(b, d)
            }
            return b
        }
        function t(a) {
            for (var c = 1; c < arguments.length; c++) {
                var b = null != arguments[c] ? arguments[c] : {};
                c % 2 ? v(Object(b), !0).forEach(function(d) {
                    A(a, d, b[d])
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : v(Object(b)).forEach(function(d) {
                    Object.defineProperty(a, d, Object.getOwnPropertyDescriptor(b, d))
                })
            }
            return a
        }
        function w(a, c, b) {
            if (a !== c)
                throw new TypeError("Private static access of wrong provenance");
            return b
        }
        function q(a, c, b) {
            if (a !== c)
                throw new TypeError("Private static access of wrong provenance");
            return b.get ? b.get.call(a) : b.value
        }
        function p(a, c) {
            if (null == c || c > a.length)
                c = a.length;
            for (var b = 0, d = Array(c); b < c; b++)
                d[b] = a[b];
            return d
        }
        function l(a, c, b) {
            if (!c.has(a))
                throw new TypeError("attempted to get private field on non-instance");
            return b
        }
        function h(a, c) {
            for (var b = 0; b < c.length; b++) {
                var d = c[b];
                d.enumerable = d.enumerable || !1;
                d.configurable = !0;
                "value"in d && (d.writable = !0);
                Object.defineProperty(a, d.key, d)
            }
        }
        function x(a, c, b) {
            c && h(a.prototype, c);
            b && h(a, b);
            return a
        }
        function a(a, c) {
            var b = c.get(a);
            if (!b)
                throw new TypeError("attempted to get private field on non-instance");
            return b.get ? b.get.call(a) : b.value
        }
        function k(a, c, b) {
            c = c.get(a);
            if (!c)
                throw new TypeError("attempted to set private field on non-instance");
            if (c.set)
                c.set.call(a, b);
            else {
                if (!c.writable)
                    throw new TypeError("attempted to set read only private field");
                c.value = b
            }
            return b
        }
        function y(a, c) {
            if (!(a instanceof c))
                throw new TypeError("Cannot call a class as a function");
        }
        function A(a, c, b) {
            c in a ? Object.defineProperty(a, c, {
                value: b,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : a[c] = b;
            return a
        }
        Object.defineProperty(r, "__esModule", {
            value: !0
        });
        r.GamedockSDK = void 0;
        var da = function c(b) {
            y(this, c);
            A(this, "rawData", null);
            this.rawData = b
        }
          , L = new WeakMap
          , ea = function() {
            function c(b) {
                y(this, c);
                L.set(this, {
                    writable: !0,
                    value: null
                });
                k(this, L, b)
            }
            x(c, [{
                key: "url",
                value: function() {
                    return a(this, L) + "event/"
                }
            }, {
                key: "send",
                value: function(b) {
                    var d = this.url() + b.name;
                    return new Promise(function(a, e) {
                        var f = new XMLHttpRequest;
                        f.open("POST", d, !0);
                        f.onload = function() {
                            if (4 === f.readyState && (200 === f.status || 204 === f.status)) {
                                var d = new da(f.responseText);
                                a(d)
                            } else
                                e(c.error(b, f))
                        }
                        .bind(this);
                        f.onerror = function() {
                            e(c.error(b, f))
                        }
                        .bind(this);
                        f.onabort = function() {
                            e(c.error(b, f))
                        }
                        ;
                        f.ontimeout = function() {
                            e(c.error(b, f))
                        }
                        ;
                        f.send(JSON.stringify(b.data))
                    }
                    .bind(this))
                }
            }], [{
                key: "error",
                value: function(b, d) {
                    var a = {}
                      , c = d.responseText;
                    try {
                        a = JSON.parse(d.responseText)
                    } catch (f) {
                        console.log("Error response is not a json string")
                    } finally {
                        a.errors && console.error("The request had an error", a.errors),
                        a.details && (c = a.details)
                    }
                    return Error("Event ".concat(b.name, " failed to be sent with status ").concat(d.status, ' and reason "').concat(c, '"'))
                }
            }]);
            return c
        }()
          , M = new WeakMap
          , z = new WeakMap
          , D = new WeakMap
          , N = new WeakMap
          , B = new WeakMap
          , O = new WeakMap
          , P = new WeakMap
          , V = new WeakMap
          , W = new WeakSet
          , Q = new WeakSet
          , ja = function() {
            function c(b, d, g) {
                y(this, c);
                Q.add(this);
                W.add(this);
                V.set(this, {
                    get: fa,
                    set: void 0
                });
                M.set(this, {
                    writable: !0,
                    value: null
                });
                z.set(this, {
                    writable: !0,
                    value: null
                });
                D.set(this, {
                    writable: !0,
                    value: null
                });
                N.set(this, {
                    writable: !0,
                    value: -1
                });
                B.set(this, {
                    writable: !0,
                    value: 0
                });
                O.set(this, {
                    writable: !0,
                    value: [6E4, 24E4, 3E5, 3E5, 3E5, 6E5]
                });
                P.set(this, {
                    writable: !0,
                    value: {
                        domainId: null
                    }
                });
                k(this, M, b);
                k(this, z, d);
                a(this, P).domainId = g
            }
            x(c, [{
                key: "enableHeartBeatForPage",
                value: function(b) {
                    clearTimeout(a(this, N));
                    k(this, B, 0);
                    k(this, D, b);
                    l(this, Q, ga).call(this)
                }
            }, {
                key: "trackEvent",
                value: function(b, d) {
                    return a(this, M).send(new ha(b,l(this, W, ia).call(this, d)))
                }
            }]);
            return c
        }()
          , fa = function() {
            return {
                visitorId: a(this, z).visitorId,
                timeOnPage: a(this, z).timeOnPage,
                pageInSession: a(this, z).pageInSession,
                sessionId: a(this, z).sessionId
            }
        }
          , ia = function(c) {
            return t(t(t({}, a(this, V)), a(this, P)), c)
        }
          , ga = function b() {
            var d = this, g;
            null !== a(this, D) && (k(this, N, setTimeout(function() {
                l(d, Q, b).call(d);
                d.trackEvent("heartbeat", a(d, D))
            }, a(this, O)[Math.min(a(this, B), a(this, O).length - 1)])),
            k(this, B, (g = +a(this, B)) + 1),
            g)
        }
          , E = new WeakMap
          , ha = function() {
            function b(a, g) {
                y(this, b);
                A(this, "name", "");
                E.set(this, {
                    writable: !0,
                    value: {}
                });
                this.name = a;
                this.addCustomParameters(g)
            }
            x(b, [{
                key: "addCustomParameter",
                value: function(b, g) {
                    a(this, E)[b] = g;
                    return this
                }
            }, {
                key: "addCustomParameters",
                value: function(b) {
                    var g = 0;
                    for (b = Object.entries(b); g < b.length; g++) {
                        var e;
                        e = b[g];
                        e = Array.isArray(e) ? e : void 0;
                        if (!e) {
                            var f = b[g];
                            if ("undefined" !== typeof Symbol && Symbol.iterator in Object(f)) {
                                e = [];
                                var m = !0
                                  , k = !1
                                  , h = void 0;
                                try {
                                    for (var l = f[Symbol.iterator](), f = void 0; !(m = (f = l.next()).done) && !(e.push(f.value),
                                    2 === e.length); m = !0)
                                        ;
                                } catch (n) {
                                    k = !0,
                                    h = n
                                } finally {
                                    try {
                                        if (!m && null != l["return"])
                                            l["return"]()
                                    } finally {
                                        if (k)
                                            throw h;
                                    }
                                }
                            } else
                                e = void 0;
                            if (!e) {
                                a: {
                                    if (e = b[g]) {
                                        if ("string" === typeof e) {
                                            e = p(e, 2);
                                            break a
                                        }
                                        m = Object.prototype.toString.call(e).slice(8, -1);
                                        "Object" === m && e.constructor && (m = e.constructor.name);
                                        if ("Map" === m || "Set" === m) {
                                            e = Array.from(e);
                                            break a
                                        }
                                        if ("Arguments" === m || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)) {
                                            e = p(e, 2);
                                            break a
                                        }
                                    }
                                    e = void 0
                                }
                                if (!e)
                                    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                            }
                        }
                        m = e;
                        e = m[0];
                        m = m[1];
                        a(this, E)[e] = m
                    }
                    return this
                }
            }, {
                key: "data",
                get: function() {
                    return a(this, E)
                }
            }]);
            return b
        }()
          , F = new WeakMap
          , G = new WeakMap
          , H = new WeakMap
          , R = new WeakMap
          , C = new WeakMap
          , I = new WeakMap
          , S = new WeakMap
          , J = new WeakMap
          , X = new WeakSet
          , T = new WeakSet
          , Y = new WeakSet
          , Z = new WeakSet
          , $ = new WeakSet
          , ca = function() {
            function b(a) {
                y(this, b);
                $.add(this);
                Z.add(this);
                Y.add(this);
                T.add(this);
                X.add(this);
                F.set(this, {
                    writable: !0,
                    value: null
                });
                G.set(this, {
                    writable: !0,
                    value: null
                });
                H.set(this, {
                    writable: !0,
                    value: null
                });
                R.set(this, {
                    writable: !0,
                    value: null
                });
                C.set(this, {
                    writable: !0,
                    value: null
                });
                I.set(this, {
                    writable: !0,
                    value: null
                });
                S.set(this, {
                    writable: !0,
                    value: null
                });
                J.set(this, {
                    writable: !0,
                    value: 0
                });
                k(this, S, a);
                a = localStorage.getItem(this.storageName);
                var g = !1;
                try {
                    a = JSON.parse(a) || {}
                } catch (e) {
                    a = {}
                }
                if (!a.hasOwnProperty("visitorId")) {
                    var f;
                    a.visitorId = w(f = this.constructor, b, aa).call(f)
                }
                a.hasOwnProperty("sessionEnd") && a.sessionEnd && (g = Date.now() - a.sessionEnd > q(this.constructor, b, ka));
                a.hasOwnProperty("sessionStart") || (a.sessionStart = Date.now());
                if (!a.hasOwnProperty("sessionId") || g) {
                    var h;
                    a.sessionId = w(h = this.constructor, b, aa).call(h);
                    a.sessionStart = Date.now();
                    a.pageInSession = 0
                }
                a.pageInSession += 1;
                k(this, F, a.visitorId);
                k(this, G, a.sessionId);
                k(this, H, a.sessionStart);
                k(this, C, Date.now());
                k(this, I, a.pageInSession);
                l(this, T, ba).call(this);
                window.addEventListener("beforeunload", l(this, X, la).bind(this));
                document.addEventListener("visibilitychange", l(this, $, ma).bind(this), !1)
            }
            x(b, [{
                key: "toString",
                value: function() {
                    return JSON.stringify({
                        visitorId: a(this, F),
                        sessionId: a(this, G),
                        sessionStart: a(this, H),
                        sessionEnd: a(this, R),
                        pageInSession: a(this, I)
                    })
                }
            }, {
                key: "storageName",
                get: function() {
                    return q(b, b, na) + "_" + a(this, S)
                }
            }, {
                key: "visitorId",
                get: function() {
                    return a(this, F)
                }
            }, {
                key: "sessionId",
                get: function() {
                    return a(this, G)
                }
            }, {
                key: "sessionStart",
                get: function() {
                    return a(this, H)
                }
            }, {
                key: "pageInSession",
                get: function() {
                    return a(this, I)
                }
            }, {
                key: "timeOnPage",
                get: function() {
                    return Math.floor((a(this, J) + (Date.now() - a(this, C))) / 1E3)
                }
            }]);
            return b
        }()
          , oa = function() {
            var a = (new Date).getTime()
              , d = performance && performance.now && 1E3 * performance.now() || 0;
            return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(g) {
                var e = 16 * Math.random();
                0 < a ? (e = (a + e) % 16 | 0,
                a = Math.floor(a / 16)) : (e = (d + e) % 16 | 0,
                d = Math.floor(d / 16));
                return ("x" === g ? e : e & 3 | 8).toString(16)
            })
        }
          , aa = function() {
            var a = window.crypto || window.msCrypto;
            return void 0 === a ? w(this, ca, oa).call(this) : ([1E7] + -1E3 + -4E3 + -8E3 + -1E11).replace(/[018]/g, function(d) {
                return (d ^ a.getRandomValues(new Uint8Array(1))[0] & 15 >> d / 4).toString(16)
            })
        }
          , na = {
            writable: !0,
            value: "_gdwt"
        }
          , ka = {
            writable: !0,
            value: 18E5
        }
          , la = function() {
            k(this, R, Date.now());
            l(this, T, ba).call(this)
        }
          , ba = function() {
            localStorage.setItem(this.storageName, this.toString())
        }
          , pa = function() {
            k(this, J, a(this, J) + (Date.now() - a(this, C)))
        }
          , qa = function() {
            k(this, C, Date.now())
        }
          , ma = function() {
            document.hidden ? l(this, Y, pa).call(this) : l(this, Z, qa).call(this)
        }
          , s = new WeakMap
          , K = new WeakMap;
        n = function() {
            function b(d, g, e) {
                y(this, b);
                s.set(this, {
                    writable: !0,
                    value: {}
                });
                K.set(this, {
                    writable: !0,
                    value: null
                });
                A(this, "tracking", null);
                k(this, K, new ca(d));
                a(this, s).orgId = d;
                a(this, s).domainId = g;
                a(this, s).environment = e ? e : "PRD";
                this.tracking = new ja(new ea(b.urls[a(this, s).environment] + a(this, s).orgId + "/"),a(this, K),a(this, s).domainId)
            }
            x(b, [{
                key: "visitor",
                get: function() {
                    return a(this, K)
                }
            }]);
            x(b, [{
                key: "documentation",
                value: function() {
                    window.open(q(b, b, ra) + a(this, s).orgId)
                }
            }], [{
                key: "initialize",
                value: function(a, g, e) {
                    var f = {
                        orgId: a,
                        domainId: g
                    };
                    q(b, b, U).has(f) || q(b, b, U).set(f, new b(a,g,e));
                    return q(b, b, U).get(f)
                }
            }]);
            return b
        }();
        r.GamedockSDK = n;
        var U = {
            writable: !0,
            value: new WeakMap
        }
          , ra = {
            writable: !0,
            value: "null.html?https://tracker.gamedock.io/v1/events-tracker/track_config/"
        };
        A(n, "urls", {
            STG: "null.html?https://tracker-stg.gamedock.io/v1/events-tracker/track/",
            PRD: "null.html?https://tracker.gamedock.io/v1/events-tracker/track/"
        })
    }
    , {}]
}, {}, [1]);
